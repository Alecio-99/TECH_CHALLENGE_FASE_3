syntax = "proto3";

package usuario;

option java_multiple_files = true;
option java_package = "com.tech.fase3.chanllenge";
option java_outer_classname = "UsuarioProto";

import "google/protobuf/timestamp.proto";
import "Role.proto";

message Usuario {
  int64 id = 1;
  string nome = 2;
  string email = 3;
  string cpf = 4;
  string telefone = 5;
  bool ativo = 6;
  Role role = 7;

  google.protobuf.Timestamp criado_em = 8;
  google.protobuf.Timestamp atualizado_em = 9;
}

message Medico {
  Usuario usuario = 1;

  string crm = 2;
  string uf_crm = 3;
  string especialidade = 4;
  bool atende_telemedicina = 5;
}

message Enfermeiro {
  Usuario usuario = 1;

  string coren = 2;
  string uf_coren = 3;
  string setor = 4;
}

message Paciente {
  Usuario usuario = 1;

  string numero_cartao_sus = 2;
  string plano_saude = 3;
  string numero_plano = 4;

  string contato_emergencia = 5;
  string telefone_contato_emergencia = 6;

  string tipo_sanguineo = 7;
  string alergias = 8;
  string observacoes_medicas = 9;
}

/* ====== MESSAGES DE REQUEST / RESPONSE ====== */

message BuscarUsuarioPorIdRequest {
  int64 id = 1;
}

message UsuarioResponse {
  Usuario usuario = 1;
}